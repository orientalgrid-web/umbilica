<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Umubilica‚Ñ¢ - Ancient Prayers & Rituals for Every Human Situation</title>
    <!-- Paystack -->
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Merriweather:wght@300;400;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --ancient-gold: #D4AF37;
            --earth-brown: #8B4513;
            --sky-blue: #1E3A8A;
            --fire-red: #B22222;
            --water-teal: #0D9488;
            --earth-green: #10B981;
            --spirit-purple: #7C3AED;
            --shadow-gray: #4B5563;
            --parchment: #F5E6D3;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Merriweather', serif;
            background: linear-gradient(to bottom, #0F172A, #1E293B);
            color: #E2E8F0;
            line-height: 1.7;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(30, 58, 138, 0.1) 0%, transparent 50%),
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" opacity="0.03"><path d="M50,20 Q65,10 80,20 T110,20" stroke="%23D4AF37" fill="none"/></svg>');
        }
        
        /* Ancient Header */
        .ancient-header {
            background: linear-gradient(135deg, var(--earth-brown) 0%, #2C1810 100%);
            color: var(--ancient-gold);
            padding: 3rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
            border-bottom: 5px solid var(--ancient-gold);
        }
        
        .ancient-header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" opacity="0.1"><path d="M20,20 Q50,5 80,20 T140,20" stroke="%23D4AF37" fill="none"/></svg>');
        }
        
        .ancient-logo {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            letter-spacing: 2px;
        }
        
        .ancient-subtitle {
            font-size: 1.1rem;
            color: #FBBF24;
            font-style: italic;
            margin-bottom: 2rem;
            max-width: 800px;
            margin: 0 auto 2rem;
        }
        
        /* Search Bar */
        .search-container {
            max-width: 600px;
            margin: 0 auto 2rem;
            padding: 0 1rem;
            position: relative;
        }
        
        .search-bar {
            width: 100%;
            padding: 1rem 3rem 1rem 1.5rem;
            border-radius: 50px;
            border: 2px solid var(--ancient-gold);
            font-size: 1.1rem;
            background: rgba(0,0,0,0.7);
            color: white;
            font-family: 'Merriweather', serif;
        }
        
        .search-bar:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }
        
        .search-icon {
            position: absolute;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--ancient-gold);
        }
        
        /* Life Stages Navigation */
        .life-portals {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
            padding: 0 1rem;
            max-width: 1400px;
            margin: 2rem auto;
        }
        
        .portal-card {
            background: rgba(0,0,0,0.5);
            border: 2px solid var(--ancient-gold);
            border-radius: 15px;
            padding: 1.5rem 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        
        .portal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.2);
            border-color: #FBBF24;
        }
        
        .portal-card.active {
            background: rgba(212, 175, 55, 0.1);
            border-color: #FBBF24;
        }
        
        .portal-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--ancient-gold);
        }
        
        /* Soul's Odds Corner */
        .souls-odds {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.9), rgba(30, 58, 138, 0.9));
            border: 3px solid var(--ancient-gold);
            border-radius: 20px;
            padding: 2.5rem;
            margin: 3rem auto;
            max-width: 1000px;
            position: relative;
            overflow: hidden;
        }
        
        .souls-odds::before {
            content: "‚úß";
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 2rem;
            color: var(--ancient-gold);
        }
        
        .souls-odds::after {
            content: "‚úß";
            position: absolute;
            bottom: 20px;
            right: 20px;
            font-size: 2rem;
            color: var(--ancient-gold);
        }
        
        .odds-title {
            font-family: 'Cinzel', serif;
            font-size: 2.2rem;
            text-align: center;
            margin-bottom: 1.5rem;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        /* Prayer Library */
        .prayer-library {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));
            gap: 2rem;
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .prayer-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9), rgba(15, 23, 42, 0.9));
            border: 2px solid var(--ancient-gold);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.4s ease;
            position: relative;
        }
        
        .prayer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(212, 175, 55, 0.15);
        }
        
        .card-header {
            background: rgba(212, 175, 55, 0.1);
            padding: 1.5rem;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .card-title {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            color: var(--ancient-gold);
            margin-bottom: 0.5rem;
        }
        
        .card-tradition {
            display: inline-block;
            background: rgba(212, 175, 55, 0.2);
            color: #FBBF24;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-right: 0.5rem;
        }
        
        .card-content {
            padding: 2rem;
        }
        
        .ritual-section {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--ancient-gold);
        }
        
        .ritual-title {
            color: #FBBF24;
            margin-bottom: 1rem;
            font-family: 'Cinzel', serif;
        }
        
        .ritual-items {
            margin-top: 1rem;
        }
        
        .ritual-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0.5rem 0;
            color: #CBD5E1;
        }
        
        /* Premium Section */
        .premium-sanctum {
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.9), rgba(44, 24, 16, 0.9));
            border: 3px solid var(--ancient-gold);
            border-radius: 20px;
            padding: 4rem;
            margin: 4rem auto;
            max-width: 1000px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .premium-title {
            font-family: 'Cinzel', serif;
            font-size: 2.8rem;
            margin-bottom: 1.5rem;
            color: var(--ancient-gold);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .price-display {
            font-size: 4rem;
            font-weight: bold;
            color: var(--ancient-gold);
            margin: 2rem 0;
            font-family: 'Cinzel', serif;
        }
        
        .price-display span {
            font-size: 1.5rem;
            color: #FBBF24;
        }
        
        /* Paystack Button */
        .paystack-btn {
            background: linear-gradient(135deg, var(--ancient-gold), #FBBF24);
            color: #2C1810;
            border: none;
            padding: 1.2rem 3rem;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 15px;
            font-family: 'Cinzel', serif;
            letter-spacing: 1px;
        }
        
        .paystack-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 30px rgba(212, 175, 55, 0.4);
        }
        
        /* Footer */
        .ancient-footer {
            background: rgba(0,0,0,0.9);
            color: var(--ancient-gold);
            padding: 3rem 0 1.5rem;
            margin-top: 4rem;
            border-top: 3px solid var(--ancient-gold);
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto 2rem;
            padding: 0 2rem;
        }
        
        .footer-section h3 {
            color: #FBBF24;
            margin-bottom: 1rem;
            font-family: 'Cinzel', serif;
            font-size: 1.3rem;
        }
        
        .copyright {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(212, 175, 55, 0.3);
            color: #FBBF24;
            font-size: 0.9rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .ancient-logo { font-size: 2.5rem; }
            .prayer-library { grid-template-columns: 1fr; padding: 1rem; }
            .premium-sanctum { padding: 2rem 1rem; }
            .life-portals { grid-template-columns: repeat(2, 1fr); }
            .souls-odds { margin: 2rem 1rem; padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <!-- Ancient Header -->
    <header class="ancient-header">
        <div class="container">
            <h1 class="ancient-logo">
                <span>Umubilica‚Ñ¢</span>
            </h1>
            <p class="ancient-subtitle">
                Ancient Prayers & Sacred Rituals for Every Passage of Life ‚Ä¢ From Womb to Tomb ‚Ä¢ Across All Traditions
            </p>
            
            <!-- Search Bar -->
            <div class="search-container">
                <input type="text" class="search-bar" id="prayerSearch" 
                       placeholder="Seek your prayer: 'marriage ritual', 'healing chant', 'business blessing'..." 
                       autocomplete="off">
                <i class="fas fa-search search-icon"></i>
            </div>
        </div>
    </header>

    <!-- Life Portals -->
    <section class="life-portals" id="lifePortals">
        <!-- Portals will be loaded from JSON -->
    </section>

    <!-- Soul's Odds Corner -->
    <section class="souls-odds" id="soulsOdds">
        <h2 class="odds-title">The Soul's Odds</h2>
        <p style="text-align: center; margin-bottom: 2rem; font-style: italic;">
            Prayers for the seemingly impossible ‚Ä¢ Miracles against all odds
        </p>
        <div id="oddsPrayers"></div>
    </section>

    <!-- Prayer Library -->
    <section class="library-section">
        <h2 style="text-align: center; margin: 2rem; color: var(--ancient-gold); font-family: 'Cinzel', serif; font-size: 2.5rem;">
            Ancient Prayer Library
        </h2>
        <div class="prayer-library" id="prayerLibrary">
            <!-- Prayers will be loaded here -->
        </div>
    </section>

    <!-- Premium Sanctum -->
    <section class="premium-sanctum">
        <h2 class="premium-title">Enter the Sacred Sanctum</h2>
        <p style="font-size: 1.2rem; margin-bottom: 2rem; color: #FBBF24;">
            Full access to 1,000+ ancient prayers, rituals, and blessings across all traditions
        </p>
        
        <div class="price-display">
            $19<span style="font-size: 1.5rem;">/month</span>
        </div>
        
        <div style="margin: 2rem 0; color: #E2E8F0;">
            <p style="margin-bottom: 1rem;">
                <i class="fas fa-scroll" style="color: var(--ancient-gold);"></i> 500+ ancient rituals with instructions
            </p>
            <p style="margin-bottom: 1rem;">
                <i class="fas fa-hands-praying" style="color: var(--ancient-gold);"></i> Chants, mantras, and sacred sounds
            </p>
            <p style="margin-bottom: 1rem;">
                <i class="fas fa-moon-stars" style="color: var(--ancient-gold);"></i> Moon phase & seasonal rituals
            </p>
            <p>
                <i class="fas fa-book-dead" style="color: var(--ancient-gold);"></i> Rare ancestral prayers
            </p>
        </div>
        
        <!-- Paystack Button -->
        <button class="paystack-btn" onclick="payWithPaystack()">
            <i class="fas fa-unlock-alt"></i> ACCESS THE SANCTUM - $19/MONTH
        </button>
        
        <p style="margin-top: 1.5rem; font-size: 0.9rem; color: #FBBF24; opacity: 0.8;">
            7-day free trial ‚Ä¢ Cancel anytime ‚Ä¢ Secure payment via Paystack
        </p>
    </section>

    <!-- Footer -->
    <footer class="ancient-footer">
        <div class="footer-grid">
            <div class="footer-section">
                <h3>Umubilica‚Ñ¢</h3>
                <p>Ancient wisdom for modern journeys.</p>
                <p style="margin-top: 1rem;">
                    <i class="fas fa-envelope"></i> orientalgrid@gmail.com<br>
                    <i class="fas fa-phone"></i> +234 810 336 5359
                </p>
            </div>
            <div class="footer-section">
                <h3>Sacred Access</h3>
                <p>Daily Rituals</p>
                <p>Emergency Prayers</p>
                <p>Seasonal Ceremonies</p>
                <p>Custom Blessings</p>
            </div>
            <div class="footer-section">
                <h3>Oriental Grid Limited</h3>
                <p>RC: 1234567</p>
                <p>All ancient rights preserved ¬© 2024</p>
                <p>VAT: NG-123-456-789</p>
            </div>
        </div>
        
        <div class="copyright">
            <p>Umubilica‚Ñ¢ is a sacred offering of Oriental Grid Limited</p>
            <p style="margin-top: 0.5rem;">
                <i class="fab fa-facebook"></i> 
                <i class="fab fa-twitter"></i> 
                <i class="fab fa-instagram"></i> 
                <i class="fab fa-whatsapp"></i>
            </p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Configuration
        const CONFIG = {
            prayerFile: 'prayers.json',
            situationsFile: 'situations.json',
            oddsFile: 'souls-odds.json'
        };

        // State management
        let currentStage = 'all';
        let currentSearch = '';
        let allPrayers = [];
        let allSituations = [];
        let oddsPrayers = [];

        // DOM Elements
        const lifePortals = document.getElementById('lifePortals');
        const prayerLibrary = document.getElementById('prayerLibrary');
        const oddsContainer = document.getElementById('oddsPrayers');
        const searchInput = document.getElementById('prayerSearch');

        // Initialize application
        async function init() {
            try {
                // Load all data
                await loadAllData();
                
                // Render initial views
                renderLifePortals();
                renderSoulsOdds();
                renderPrayers();
                
                // Setup event listeners
                setupEventListeners();
                
                console.log('Umubilica‚Ñ¢ initialized successfully');
            } catch (error) {
                console.error('Failed to initialize:', error);
                showError('Failed to load sacred texts. Please refresh the page.');
            }
        }

        // Load all JSON data
        async function loadAllData() {
            // In production, these would be actual API calls
            // For demo, we'll use sample data
            
            // Sample situations data
            allSituations = [
                {
                    id: 'birth',
                    name: 'Birth & Conception',
                    icon: 'üë∂',
                    color: '#F9A8D4',
                    description: 'Rituals for fertility, pregnancy, and newborn blessings'
                },
                {
                    id: 'youth',
                    name: 'Youth & Initiation',
                    icon: 'üå±',
                    color: '#60A5FA',
                    description: 'Coming of age ceremonies and educational blessings'
                },
                {
                    id: 'love',
                    name: 'Love & Union',
                    icon: 'üíò',
                    color: '#DC2626',
                    description: 'Courtship rituals and marriage preparations'
                },
                {
                    id: 'marriage',
                    name: 'Marriage & Family',
                    icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶',
                    color: '#8B5CF6',
                    description: 'Wedding ceremonies and family unity rituals'
                },
                {
                    id: 'career',
                    name: 'Career & Wealth',
                    icon: 'üí∞',
                    color: '#D97706',
                    description: 'Business blessings and prosperity rituals'
                },
                {
                    id: 'health',
                    name: 'Health & Healing',
                    icon: 'üåø',
                    color: '#10B981',
                    description: 'Ancient healing prayers and wellness rituals'
                },
                {
                    id: 'crisis',
                    name: 'Crisis & Protection',
                    icon: 'üõ°Ô∏è',
                    color: '#EF4444',
                    description: 'Protection spells and crisis intervention prayers'
                },
                {
                    id: 'death',
                    name: 'Death & Ancestors',
                    icon: '‚ö∞Ô∏è',
                    color: '#4B5563',
                    description: 'Funeral rites and ancestral communication rituals'
                }
            ];

            // Sample prayers data (in production, load from prayers.json)
            allPrayers = await generateSamplePrayers();
            
            // Sample odds prayers
            oddsPrayers = [
                {
                    title: "Ancient Sumerian Prayer for Terminal Illness Reversal",
                    prayer: "Enki, god of wisdom and healing, who knows the plant of life and the water of life, look upon this afflicted one. As you restored Inanna from the underworld, restore health to this body. Let the illness retreat like darkness before dawn.",
                    ritual: "Create a clay tablet with the sick person's name. At sunset, place it in flowing water with seven healing herbs while chanting this prayer for seven nights.",
                    items: ["Clay tablet", "Seven healing herbs", "Running water"],
                    tradition: "Ancient Sumerian",
                    odds: "1 in 10,000"
                },
                {
                    title: "Celtic Druid Prayer to Find Missing Person After Years",
                    prayer: "Spirits of the forest, eyes of the hawk, wisdom of the oak. Guide our search through dream and vision. Show us the path to the lost one. Let no veil of time or distance hide them from our seeking.",
                    ritual: "Tie a personal item of the missing to an oak branch. Each dawn for nine days, walk sunwise around the tree chanting this prayer while scattering oats for the birds.",
                    items: ["Personal item", "Oak branch", "Oats"],
                    tradition: "Celtic Druid",
                    odds: "Against all odds"
                },
                {
                    title: "Tibetan Buddhist Prayer for Financial Miracle After Bankruptcy",
                    prayer: "Jambhala, treasure holder, shower your golden blessings. Turn dust into gold, despair into hope. May wealth flow like rivers in spring, unexpected, abundant, life-giving.",
                    ritual: "Place a bowl of water with gold-colored coins before a Buddha image. Each morning for 21 days, change the water and chant this prayer 108 times.",
                    items: ["Gold-colored coins", "Bowl of water", "Buddha image"],
                    tradition: "Tibetan Buddhist",
                    odds: "Divine intervention"
                }
            ];
        }

        // Generate sample prayers for demo
        async function generateSamplePrayers() {
            return [
                {
                    id: 1,
                    title: "Ancient Egyptian Prayer for Conception",
                    prayer: "Oh Isis, great of magic, who conceived Horus in darkness and brought forth light, bless this womb. As the Nile floods and brings life to the desert, let life quicken within. May the child be strong like Horus, wise like Thoth, and beautiful like Hathor.",
                    ritual: {
                        title: "Nile Water Ritual",
                        instructions: "At dawn, face east with a bowl of water mixed with Nile mud (or local earth). Dip your fingers seven times while chanting. Plant lotus seeds (or any seeds) in the mud as an offering.",
                        items: ["Bowl of water", "Earth/mud", "Seeds", "White cloth"],
                        timing: "Dawn during waxing moon",
                        duration: "7 days"
                    },
                    situation: "Prayer for Conception",
                    stage: "birth",
                    traditions: ["Ancient Egyptian"],
                    elements: ["Water", "Earth"],
                    tags: ["fertility", "conception", "pregnancy", "egyptian"]
                },
                {
                    id: 2,
                    title: "Vedic Wedding Fire Ceremony",
                    prayer: "Agni deva, witness of truth, carry our vows to the heavens. As this flame consumes the offerings, may it purify our union. May our lives be intertwined like the sacred threads, strong through all seasons.",
                    ritual: {
                        title: "Saptapadi - Seven Steps Ritual",
                        instructions: "Walk seven steps around the sacred fire together, each step representing a marital vow. With each step, offer ghee, rice, or flowers into the fire.",
                        items: ["Sacred fire (or candle)", "Ghee or oil", "Rice", "Flowers", "Red thread"],
                        timing: "During wedding ceremony",
                        duration: "1 hour"
                    },
                    situation: "Prayer for Wedding Day",
                    stage: "marriage",
                    traditions: ["Hindu Vedic"],
                    elements: ["Fire", "Earth"],
                    tags: ["wedding", "marriage", "fire ceremony", "vedic"]
                },
                {
                    id: 3,
                    title: "Native American Healing Chant",
                    prayer: "Great Spirit, Mother Earth, send your healing winds. Let the eagle's feather brush away sickness. May the bear's strength enter this body. As the willow bends but does not break, may this spirit withstand all trials.",
                    ritual: {
                        title: "Sweat Lodge Healing",
                        instructions: "In a sacred space, heat stones and pour water over them to create steam. Wave sacred herbs (sage, sweetgrass) around the person while chanting. Use a feather to direct the healing smoke.",
                        items: ["Heated stones", "Water", "Sacred herbs", "Feather", "Drum"],
                        timing: "New moon for cleansing",
                        duration: "2-3 hours"
                    },
                    situation: "Prayer for Chronic Illness",
                    stage: "health",
                    traditions: ["Native American"],
                    elements: ["Fire", "Air", "Water"],
                    tags: ["healing", "illness", "native american", "chant"]
                }
            ];
        }

        // Render life portals
        function renderLifePortals() {
            lifePortals.innerHTML = '';
            
            // Add "All" portal
            const allPortal = document.createElement('div');
            allPortal.className = `portal-card ${currentStage === 'all' ? 'active' : ''}`;
            allPortal.dataset.stage = 'all';
            allPortal.innerHTML = `
                <div class="portal-icon">üåå</div>
                <h3>All Portals</h3>
                <p style="font-size: 0.9rem; color: #CBD5E1; margin-top: 0.5rem;">Every ritual & prayer</p>
            `;
            allPortal.addEventListener('click', () => filterByStage('all'));
            lifePortals.appendChild(allPortal);
            
            // Add stage portals
            allSituations.forEach(portal => {
                const portalCard = document.createElement('div');
                portalCard.className = `portal-card ${currentStage === portal.id ? 'active' : ''}`;
                portalCard.dataset.stage = portal.id;
                portalCard.style.borderColor = portal.color;
                
                portalCard.innerHTML = `
                    <div class="portal-icon">${portal.icon}</div>
                    <h3>${portal.name}</h3>
                    <p style="font-size: 0.9rem; color: #CBD5E1; margin-top: 0.5rem;">${portal.description}</p>
                `;
                
                portalCard.addEventListener('click', () => filterByStage(portal.id));
                lifePortals.appendChild(portalCard);
            });
        }

        // Render Soul's Odds section
        function renderSoulsOdds() {
            oddsContainer.innerHTML = '';
            
            oddsPrayers.forEach(prayer => {
                const card = document.createElement('div');
                card.className = 'prayer-card';
                card.style.marginBottom = '1.5rem';
                
                card.innerHTML = `
                    <div class="card-header">
                        <h3 class="card-title">${prayer.title}</h3>
                        <div>
                            <span class="card-tradition">${prayer.tradition}</span>
                            <span class="card-tradition" style="background: rgba(239, 68, 68, 0.2); color: #FCA5A5;">Odds: ${prayer.odds}</span>
                        </div>
                    </div>
                    <div class="card-content">
                        <p style="font-style: italic; margin-bottom: 1.5rem;">${prayer.prayer}</p>
                        
                        <div class="ritual-section">
                            <h4 class="ritual-title">Ancient Ritual</h4>
                            <p>${prayer.ritual}</p>
                            <div class="ritual-items">
                                <strong>Sacred Items Needed:</strong>
                                <div>${prayer.items.map(item => `
                                    <div class="ritual-item">
                                        <i class="fas fa-circle" style="font-size: 0.5rem; color: var(--ancient-gold);"></i>
                                        ${item}
                                    </div>
                                `).join('')}</div>
                            </div>
                        </div>
                    </div>
                `;
                
                oddsContainer.appendChild(card);
            });
        }

        // Render prayers
        function renderPrayers() {
            prayerLibrary.innerHTML = '';
            
            const filteredPrayers = allPrayers.filter(prayer => {
                const matchesStage = currentStage === 'all' || prayer.stage === currentStage;
                const matchesSearch = !currentSearch || 
                    prayer.title.toLowerCase().includes(currentSearch.toLowerCase()) ||
                    prayer.prayer.toLowerCase().includes(currentSearch.toLowerCase()) ||
                    prayer.tags.some(tag => tag.toLowerCase().includes(currentSearch.toLowerCase())) ||
                    prayer.situation.toLowerCase().includes(currentSearch.toLowerCase());
                
                return matchesStage && matchesSearch;
            });
            
            if (filteredPrayers.length === 0) {
                prayerLibrary.innerHTML = `
                    <div style="text-align: center; grid-column: 1/-1; padding: 3rem; color: #94A3B8;">
                        <i class="fas fa-book-dead" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                        <h3 style="font-family: 'Cinzel', serif; color: var(--ancient-gold);">No Ancient Texts Found</h3>
                        <p>Your search did not reveal any sacred prayers. Try different words or select another portal.</p>
                    </div>
                `;
                return;
            }
            
            filteredPrayers.forEach(prayer => {
                const card = document.createElement('div');
                card.className = 'prayer-card';
                
                card.innerHTML = `
                    <div class="card-header">
                        <h3 class="card-title">${prayer.title}</h3>
                        <div>
                            ${prayer.traditions.map(t => `<span class="card-tradition">${t}</span>`).join('')}
                            <span class="card-tradition">${prayer.situation}</span>
                        </div>
                    </div>
                    
                    <div class="card-content">
                        <p style="font-style: italic; margin-bottom: 1.5rem; font-size: 1.1rem;">"${prayer.prayer}"</p>
                        
                        <div class="ritual-section">
                            <h4 class="ritual-title">üìø Ancient Ritual: ${prayer.ritual.title}</h4>
                            <p>${prayer.ritual.instructions}</p>
                            
                            <div style="margin: 1rem 0; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 8px;">
                                <strong>üïØÔ∏è Sacred Timing:</strong> ${prayer.ritual.timing}<br>
                                <strong>‚è≥ Duration:</strong> ${prayer.ritual.duration}
                            </div>
                            
                            <div class="ritual-items">
                                <strong>üîÆ Required Sacred Items:</strong>
                                ${prayer.ritual.items.map(item => `
                                    <div class="ritual-item">
                                        <i class="fas fa-circle" style="font-size: 0.5rem; color: var(--ancient-gold);"></i>
                                        ${item}
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div style="margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid rgba(212, 175, 55, 0.2);">
                            <small style="color: #94A3B8;">
                                <i class="fas fa-hashtag"></i> Tags: ${prayer.tags.join(', ')}
                            </small>
                        </div>
                    </div>
                `;
                
                prayerLibrary.appendChild(card);
            });
        }

        // Filter by stage
        function filterByStage(stage) {
            currentStage = stage;
            
            // Update active portal
            document.querySelectorAll('.portal-card').forEach(card => {
                card.classList.remove('active');
                if (card.dataset.stage === stage) {
                    card.classList.add('active');
                }
            });
            
            renderPrayers();
        }

        // Setup event listeners
        function setupEventListeners() {
            // Search input
            searchInput.addEventListener('input', (e) => {
                currentSearch = e.target.value;
                renderPrayers();
            });
            
            // Search on enter
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    renderPrayers();
                }
            });
        }

        // Show error message
        function showError(message) {
            prayerLibrary.innerHTML = `
                <div style="text-align: center; grid-column: 1/-1; padding: 3rem; color: #FCA5A5;">
                    <i class="fas fa-exclamation-triangle" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                    <h3>Ancient Wisdom Temporarily Unavailable</h3>
                    <p>${message}</p>
                    <button onclick="location.reload()" style="
                        margin-top: 1rem;
                        padding: 0.75rem 1.5rem;
                        background: var(--ancient-gold);
                        color: #2C1810;
                        border: none;
                        border-radius: 5px;
                        cursor: pointer;
                        font-family: 'Cinzel', serif;
                    ">
                        Retry Connection
                    </button>
                </div>
            `;
        }

        // Paystack Integration
        function payWithPaystack() {
            const handler = PaystackPop.setup({
                key: 'pk_test_your_public_key_here',
                email: 'seeker@umubilica.com',
                amount: 1900 * 100,
                currency: 'USD',
                ref: 'UMU-' + Math.floor((Math.random() * 1000000000) + 1),
                callback: function(response) {
                    alert('Access granted! Reference: ' + response.reference);
                    // Grant premium access
                    grantPremiumAccess();
                },
                onClose: function() {
                    alert('Payment window closed. The sanctum awaits your return.');
                }
            });
            handler.openIframe();
        }

        // Grant premium access
        function grantPremiumAccess() {
            // In production, this would unlock premium content
            alert('Welcome to the Sacred Sanctum! All ancient prayers and rituals are now available.');
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
